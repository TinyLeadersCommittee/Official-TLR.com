---
import BaseLayout from "../../layouts/BaseLayout.astro";
---

<BaseLayout title="Rules Overview">
  <article class="rules-content">
    <header>
      <h1>Format Overview</h1>
      <p class="lead">
        Tiny Leaders: Reborn (TLR) is a fan-created Magic: The Gathering format
        designed for one-on-one play. It's a singleton format, inspired by
        Commander, but with a unique compact structure that emphasizes strategic
        deck-building, interactive gameplay, and diverse strategies.
      </p>
    </header>

    <hr />

    <section id="key-rules">
      <h2>Key Rules</h2>
      <ul class="rules-list">
        <li>
          <strong>1v1 Play:</strong> Intended for one-on-one games.
        </li>
        <li>
          <strong>3 Mana Value Restriction*:</strong> Every card must have a mana
          value of 3 or less.
        </li>
        <li>
          <strong>Commander Requirement:</strong> A legendary creature or planeswalker
          must be designated as a commander.
        </li>
        <li>
          <strong>Deck Size:</strong> Exactly 50 cards, including commander(s).
        </li>
        <li>
          <strong>Sideboard:</strong> No more than 10 cards.
        </li>
        <li>
          <strong>Singleton Rule:</strong> Every card (except basic lands) must have
          a different English name.
        </li>
        <li>
          <strong>Starting Life Total:</strong> Each player begins with 20 life.
        </li>
      </ul>

      <aside class="rule-callout">
        <h3>*The Rule of 3</h3>
        <p>
          TLR evaluates cards differently than standard Magic. For multi-part
          cards (Adventures, Split Cards, MDFCs),
          <em>every</em> face or spell on the card must independently meet the MV
          3 limit.
        </p>
        <p>
          <a href="/rules/supplements#philosophy">
            Read a more detailed breakdown here &rarr;
          </a>
        </p>
      </aside>
    </section>

    <section id="additional-rules">
      <h2>Additional Rules</h2>
      <ul class="rules-list">
        <li>
          <strong>Color Identity:</strong> All cards in your deck must fit within
          the color identity of your commander(s). Identity includes mana symbols
          in the cost and rules text, plus any color indicators.
        </li>
        <li>
          <strong>Commander Tax:</strong>
          {2} for each previous time cast from the command zone.
        </li>
        <li>
          <strong>Commander Movement:</strong> May move to command zone from graveyard
          or exile as a state-based action.
        </li>
        <li>
          <strong>Forced Mulligan:</strong> With multiple commanders, draw 7 and put
          one on the bottom. Counts as the first mulligan.
        </li>
        <li>
          <strong>Wish Effects:</strong> May only choose cards from the sideboard.
        </li>
      </ul>
    </section>

    <hr />

    <section id="philosophy">
      <h2>The Philosophy of Tiny Leaders: Reborn</h2>
      <p>
        The Format and Play Experience is built upon several key principles:
      </p>

      <dl class="philosophy-grid">
        <div class="philo-item">
          <dt>Metagame Diversity</dt>
          <dd>
            A healthy format supports a variety of viable decks and strategies,
            avoiding excessive dominance by any single archetype.
          </dd>
        </div>

        <div class="philo-item">
          <dt>Competitive Balance</dt>
          <dd>
            While power levels will vary, the format should remain balanced
            enough that no strategy is overwhelmingly superior.
          </dd>
        </div>

        <div class="philo-item">
          <dt>Counterplay & Interaction</dt>
          <dd>
            Decks should have meaningful ways to interact with opponents,
            preventing non-games where one player has little agency.
          </dd>
        </div>

        <div class="philo-item">
          <dt>Format Identity</dt>
          <dd>
            Tiny Leaders: Reborn retains its unique playstyle by adhering to its
            structural rules and design elements, such as 3 MV or lower cards
            and 50-card decks, while evolving naturally over time.
          </dd>
        </div>

        <div class="philo-item">
          <dt>Player Engagement & Enjoyment</dt>
          <dd>
            The format should be fun, rewarding to play, and accessible to a
            broad audience, from casual to competitive players, but leaning
            competitively.
          </dd>
        </div>
      </dl>

      <div class="closing-statement">
        <p>
          While <strong>Tiny Leaders: Reborn</strong> is a competitive 1v1 
          format, its constraints create many ways to enjoy the game. The 
          format encourages off-the-beaten-path deckbuilding, quirky 
          interactions, and play experiences where winning isn’t always the 
          only goal.
        </p>
        <p>
          <strong>There’s something here for every type of player.</strong>
        </p>
      </div>

      <p class="cta-link">
        <a href="/rules/supplements" class="btn-primary">
          View Official Rules Documents and FAQ &rarr;
        </a>
      </p>
    </section>
  </article>
</BaseLayout>

<style>
  /* Lead Text size */
  .lead {
    font-size: 1.1rem;
    color: var(--text-muted); /* Fixed: matches global muted text */
    max-width: 65ch;
  }

  /* Styling the lists */
  .rules-list {
    list-style: none;
    padding: 0;
  }
  .rules-list li {
    background: var(--surface); /* Fixed: adapts to theme card color */
    margin-bottom: 0.75rem;
    padding: 0.75rem;
    border-left: 3px solid var(--border-subtle); /* Fixed: adapts to theme borders */
    border-radius: 0 4px 4px 0;
  }
  .rules-list strong {
    color: var(--accent); /* Fixed: corrected variable name */
  }

  /* The Alert Box */
  .rule-callout {
    border: 1px solid var(--accent);
    background: var(--surface); /* Fixed: removed hardcoded red tint */
    padding: 1.5rem;
    border-radius: 8px;
    margin: 2rem 0;
  }
  .rule-callout h3 {
    margin-top: 0;
    color: var(--accent);
  }

  /* Philosophy Grid */
  .philosophy-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
    margin: 2rem 0;
  }
  .philo-item dt {
    font-weight: bold;
    font-size: 1.1em;
    color: var(--accent); /* Fixed: removed hardcoded red */
    margin-bottom: 0.5rem;
    border-bottom: 2px solid var(--border-subtle); /* Fixed: removed hardcoded gray */
    padding-bottom: 0.25rem;
  }
  .philo-item dd {
    margin: 0;
    color: var(--text-muted);
  }

  /* The "Ethos" Box */
  .closing-statement {
    margin: 3rem 0;
    padding: 1.5rem 2rem;
    
    /* Background & Border */
    background: linear-gradient(to right, var(--surface), transparent);
    border-left: 4px solid var(--accent);
    border-top: 1px solid rgba(255,255,255,0.05);
    border-bottom: 1px solid rgba(255,255,255,0.05);
    border-radius: 0 4px 4px 0;
    
    /* Typography */
    font-style: italic;
    color: var(--text-muted);
    font-size: 1.05rem;
    line-height: 1.8;
  }

  /* 1. Reset default margins on paragraphs so the box stays tight */
  .closing-statement p {
    margin: 0;
  }

  /* 2. Add space specifically above the second paragraph */
  .closing-statement p + p {
    margin-top: 1rem; 
    
    /* OPTIONAL: Make the last line non-italic to emphasize the statement? */
    /* font-style: normal; */
  }

  /* 3. Make the Bold text pop with your accent color */
  .closing-statement strong {
    color: var(--heading-color); /* Or use var(--accent) for more punch */
    font-weight: 700;
  }

  /* Button Link */
  .cta-link {
    margin-top: 2rem;
  }
  .btn-primary {
    display: inline-block;
    background: var(--accent);
    color: var(--bg); /* Trick: Ensures text contrasts with the accent button */
    padding: 0.75rem 1.5rem;
    border-radius: 4px;
    font-weight: bold;
    text-decoration: none;
    transition: filter 0.2s ease;
  }
  .btn-primary:hover {
    filter: brightness(1.1);
    text-decoration: none;
  }
</style>
