---
import BaseLayout from '../../layouts/BaseLayout.astro';
import mirari from '../../assets/images/rules/absoluteLaw.jpg';

// Import Content Data
import { keyRules, additionalRules, philosophyPoints } from '../../data/rules/rulesData.js';
---

<BaseLayout title="Rules Overview" 
bgImage={mirari}
bgBlur={true}
bgStyle="object-fit: contain; object-position: center;">
  
  <article class="rules-doc">
    
    <header class="page-header">
      <h1>Format Overview</h1>
      <p class="lead">
        Tiny Leaders: Reborn (TLR) is a fan-created Magic: The Gathering format 
        designed for one-on-one play. It's a singleton format, inspired by 
        Commander, but with a unique compact structure that emphasizes strategic 
        deck-building, interactive gameplay, and diverse strategies.
      </p>
    </header>

    <hr class="divider" />

    <section id="key-rules">
      <h2>Key Rules</h2>
      <ul class="rules-list">
        {keyRules.map(rule => (
          <li>
            <strong>{rule.label}:</strong> {rule.text}
          </li>
        ))}
      </ul>

      <aside class="callout-box" style="margin-top: 2rem;">
        <h3>*The Rule of 3</h3>
        <p>
          TLR evaluates cards differently than standard Magic. For multi-part 
          cards (Adventures, Split Cards, MDFCs), <em>every</em> face or spell 
          on the card must independently meet the MV 3 limit.
        </p>
        <p style="margin-top: 1rem;">
          <a href="/rules/supplements#philosophy">Read a more detailed breakdown here &rarr;</a>
        </p>
      </aside>
    </section>

    <section id="additional-rules" style="margin-top: 3rem;">
      <h2>Additional Rules</h2>
      <ul class="rules-list">
        {additionalRules.map(rule => (
          <li>
            <strong>{rule.label}:</strong> {rule.text}
          </li>
        ))}
      </ul>
    </section>

    <hr class="divider" />

    <section id="philosophy">
      <h2>The Philosophy of Tiny Leaders: Reborn</h2>
      <p style="margin-bottom: 2rem;">The Format and Play Experience is built upon several key principles:</p>
      
      <dl class="philosophy-grid">
        {philosophyPoints.map(point => (
          <div class="philo-item">
            <dt>{point.title}</dt>
            <dd>{point.text}</dd>
          </div>
        ))}
      </dl>

      <div class="closing-statement">
        <p>
          While <strong>Tiny Leaders: Reborn</strong> is a competitive 1v1 
          format, its constraints create many ways to enjoy the game. The 
          format encourages off-the-beaten-path deckbuilding, quirky 
          interactions, and play experiences where winning isn’t always the 
          only goal.
        </p>
        <p>
          <strong>There’s something here for every type of player.</strong>
        </p>
      </div>

      <p class="cta-link" style="margin-top: 2rem;">
        <a href="/rules/supplements" class="btn btn-primary">View Official Rules Documents and FAQ &rarr;</a>
      </p>
    </section>

  </article>
</BaseLayout>

<style>
  /* =========================================
     PAGE SPECIFIC STYLES
     ========================================= */
  
  /* Philosophy Grid Layout */
  .philosophy-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
    margin: 2rem 0;
  }

  .philo-item dt {
    font-weight: 700;
    font-size: 1.1em;
    color: var(--accent);
    margin-bottom: 0.5rem;
    border-bottom: 2px solid var(--border-subtle);
    padding-bottom: 0.25rem;
  }

  .philo-item dd {
    margin: 0;
    color: var(--text-muted);
    line-height: 1.5;
  }

  /* Closing Gradient Box */
  .closing-statement {
    margin: 3rem 0;
    padding: 1.5rem 2rem;
    background: linear-gradient(to right, var(--surface), transparent);
    border-left: 4px solid var(--accent);
    border-top: 1px solid rgba(255,255,255,0.05);
    border-bottom: 1px solid rgba(255,255,255,0.05);
    border-radius: 0 4px 4px 0;
    font-style: italic;
    color: var(--text-muted);
    font-size: 1.05rem;
    line-height: 1.8;
  }

  .closing-statement p { margin: 0; }
  .closing-statement p + p { margin-top: 1rem; }
  .closing-statement strong { color: var(--heading-color); font-weight: 700; }

</style>